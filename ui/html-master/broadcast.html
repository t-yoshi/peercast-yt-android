{^define LAYOUT layout.html}
{^define TITLE}
  {#_Broadcast_navbar} - {#PeerCast on} {^SERVER_NAME}
{^end}
{^define HEAD}
  <script src="js/httppush.js"></script>
  <script src="js/wmhttp.js"></script>
  <script>SERVER = "{$servMgr.serverIP}:{$servMgr.serverPort}";</script>
  <style>
    .table-panel { min-width: 320px }
    input[type=text], input:not([type]), input[type=url] { width: 100% }
  </style>
{^end}

<DIV style="margin-left: auto; margin-right: auto; text-align: left; display: inline-block; margin-bottom: 1em;">
  <ul>
    <li><a href="#external">{#External Source}</a></li>
    <li><a href="#httppush">{#HTTP Push Stream}</a></li>
    <li><a href="#wmhttp">{#Windows Media HTTP Push Stream}</a></li>
  </ul>
</DIV>

<br>
<a name="external"></a>
<FORM action=/admin method=get>
  <INPUT type=hidden value=fetch name=cmd>
  <TABLE class="table-panel" align=center border=0>
    <TBODY>
      <TR align=middle>
        <TD colSpan=2><B>{#External Source}</B></TD></TR>
      <TR align=left>
        <TD>{#URL (Required)}</TD>
        <TD><INPUT name=url></TD></TR>
      <TR align=left>
        <TD>{#Name}</TD>
        <TD><INPUT name=name></TD></TR>
      <TR align=left>
        <TD>{#Genre}</TD>
        <TD><INPUT name=genre></TD></TR>
      <TR align=left>
        <TD>{#Description}</TD>
        <TD><INPUT name=desc></TD></TR>
      <TR align=left>
        <TD>{#Contact}</TD>
        <TD><INPUT name=contact type="url"></TD></TR>
      <TR align=left>
        <TD>{#Bitrate (kb/s)}</TD>
        <TD><INPUT name=bitrate></TD></TR>
      <TR align=left>
        <TD>{#Type}</TD>
        <TD>
          <SELECT name=type>
            <OPTION value=UNKNOWN selected>{#Unknown}</OPTION>
            <OPTION value=FLV>FLV</OPTION>
            <OPTION value=MKV>MKV</OPTION>
            <OPTION value=MP3>MP3</OPTION>
            <OPTION value=NSV>NSV</OPTION>
            <OPTION value=OGG>OGG</OPTION>
            <OPTION value=RAW>RAW</OPTION>
            <OPTION value=WMA>WMA</OPTION>
            <OPTION value=WMV>WMV</OPTION>
            <OPTION value=WEBM>WEBM</OPTION>
            <OPTION value=MP4>MP4</OPTION>
          </SELECT>
        </TD>
      </TR>
      <TR align=left>
        <TD>{#IP Version}</TD>
        <TD>
          <SELECT name=ipv>
            <OPTION value=4>IPv4</OPTION>
            <OPTION value=6>IPv6</OPTION>
          </SELECT>
        </TD>
      </TR>
      <TR align=left>
        <TD colSpan=2 align=middle><INPUT type=submit value="{#Create Relay}" name=stream></TD>
      </TR>
    </TBODY>
  </TABLE>
</FORM>

<br>
<a name="httppush"></a>
<TABLE class="table-panel" align=center border=0>
  <TBODY>
    <TR align=middle>
      <TD colSpan=2><B>{#HTTP Push Stream}</B></TD></TR>
    <TR align=left>
      <TD>{#Name}</TD>
      <TD><INPUT id=name></TD></TR>
    <TR align=left>
      <TD>{#Genre}</TD>
      <TD><INPUT id=genre></TD></TR>
    <TR align=left>
      <TD>{#Description}</TD>
      <TD><INPUT id=desc></TD></TR>
    <TR align=left>
      <TD>{#Contact}</TD>
      <TD><INPUT id=url type="url"></TD></TR>
    <TR align=left>
      <TD>{#Type}</TD>
      <TD>
        <SELECT id=type>
          <OPTION value=UNKNOWN selected>{#Unknown}</OPTION>
          <OPTION value=FLV>FLV</OPTION>
          <OPTION value=MKV>MKV</OPTION>
          <OPTION value=MP3>MP3</OPTION>
          <OPTION value=NSV>NSV</OPTION>
          <OPTION value=OGG>OGG</OPTION>
          <OPTION value=RAW>RAW</OPTION>
          <OPTION value=WMA>WMA</OPTION>
          <OPTION value=WMV>WMV</OPTION>
          <OPTION value=WEBM>WEBM</OPTION>
          <OPTION value=MP4>MP4</OPTION>
        </SELECT>
      </TD>
    </TR>
    <TR align=left>
      <TD>{#IP Version}</TD>
      <TD>
        <SELECT id=ipv>
          <OPTION value=4>IPv4</OPTION>
          <OPTION value=6>IPv6</OPTION>
        </SELECT>
      </TD>
    </TR>
    <TR align=middle>
      <TD colSpan=2><B>{#Output URL for ffmpeg}</B></TD></TR>
    <TR align=left>
      <TD colSpan=2 align=middle>
        <textarea id="output" style="width: 100%; min-height: 4em; font-family: monospace">
        </textarea>
      </TD>
    </TR>
  </TBODY>
</TABLE>

<br>
<a name="wmhttp"></a>
<div style="min-height: 95vh">
<TABLE class="table-panel" align=center border=0>
  <TBODY>
    <TR align=middle>
      <TD colSpan=2><B>{#Windows Media HTTP Push Stream}</B></TD></TR>
    <TR align=left>
      <TD>{#Name}</TD>
      <TD><INPUT id=wm_name></TD></TR>
    <TR align=left>
      <TD>{#Genre}</TD>
      <TD><INPUT id=wm_genre></TD></TR>
    <TR align=left>
      <TD>{#Description}</TD>
      <TD><INPUT id=wm_desc></TD></TR>
    <TR align=left>
      <TD>{#Contact}</TD>
      <TD><INPUT id=wm_url type="url"></TD>
    </TR>
    <TR align=middle>
      <TD colSpan=2><B>{#Encoder Settings}</B></TD></TR>
    <TR align=left>
      <TD>{#Server Name}</TD>
      <TD><INPUT id=wm_output_server_name type="text"></TD>
    </TR>
    <TR align=left>
      <TD>{#Publishing Point}</TD>
      <TD>
        <textarea id="wm_output_publishing_point" style="width: 100%; min-height: 4em; font-family: monospace">
        </textarea>
      </TD>
    </TR>
    <TR align=left>
      <TD>{#URL}</TD>
      <TD>
        <textarea id="wm_output_url" style="width: 100%; min-height: 4em; font-family: monospace">
        </textarea>
      </TD>
    </TR>
  </TBODY>
</TABLE>
</div>
